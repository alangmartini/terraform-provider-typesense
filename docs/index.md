---
page_title: "Typesense Provider"
subcategory: ""
description: |-
  The Typesense provider allows you to manage Typesense Cloud clusters and server resources like collections, synonyms, overrides, stopwords, and API keys.
---

# Typesense Provider

The Typesense provider allows you to manage [Typesense](https://typesense.org/) infrastructure as code. Typesense is a fast, typo-tolerant search engine optimized for instant search experiences.

This provider supports:

- **Typesense Cloud** - Create and manage hosted Typesense clusters
- **Typesense Server** - Manage collections, synonyms, overrides, stopwords, and API keys on any Typesense server

## Example Usage

### Managing a Typesense Server

```terraform
terraform {
  required_providers {
    typesense = {
      source  = "alanm/typesense"
      version = "~> 0.1"
    }
  }
}

# Configure the provider for server management
provider "typesense" {
  server_host    = "my-cluster.a1.typesense.net"
  server_api_key = var.typesense_api_key
}

# Create a search collection
resource "typesense_collection" "products" {
  name                  = "products"
  default_sorting_field = "popularity"

  field {
    name  = "name"
    type  = "string"
    infix = true
  }

  field {
    name  = "description"
    type  = "string"
  }

  field {
    name  = "price"
    type  = "float"
    facet = true
  }

  field {
    name = "popularity"
    type = "int32"
    sort = true
  }
}

# Add search synonyms
resource "typesense_synonym" "product_synonyms" {
  collection = typesense_collection.products.name
  name       = "sneaker-synonyms"
  synonyms   = ["sneaker", "shoe", "trainer", "footwear"]
}

# Create a search-only API key for frontend use
resource "typesense_api_key" "search_key" {
  description = "Frontend search key"
  actions     = ["documents:search"]
  collections = [typesense_collection.products.name]
}
```

### Managing Typesense Cloud Clusters

```terraform
provider "typesense" {
  cloud_management_api_key = var.typesense_cloud_api_key
}

# Create a production cluster
resource "typesense_cluster" "production" {
  name                     = "production"
  memory                   = "4_gb"
  vcpu                     = "2_vcpus"
  high_availability        = "yes"
  typesense_server_version = "27.1"
  regions                  = ["us-east-1"]
  search_delivery_network  = "on"
}

output "cluster_endpoint" {
  value = typesense_cluster.production.load_balanced_hostname
}

output "admin_api_key" {
  value     = typesense_cluster.production.admin_api_key
  sensitive = true
}
```

### Combined Configuration

You can configure both Cloud and Server management in a single provider block:

```terraform
provider "typesense" {
  # For Typesense Cloud cluster management
  cloud_management_api_key = var.cloud_api_key

  # For managing resources on a specific server
  server_host    = "my-cluster.a1.typesense.net"
  server_api_key = var.server_api_key
}
```

## Authentication

### Typesense Cloud

To manage Typesense Cloud clusters, you need a Cloud Management API key. You can obtain this from the [Typesense Cloud Console](https://cloud.typesense.org/).

### Typesense Server

To manage resources on a Typesense server (whether self-hosted or Typesense Cloud), you need:

- **Host**: The hostname of your Typesense server
- **API Key**: An admin API key with appropriate permissions

## Environment Variables

All configuration options can be set via environment variables:

| Variable | Description |
|----------|-------------|
| `TYPESENSE_CLOUD_MANAGEMENT_API_KEY` | API key for Typesense Cloud management |
| `TYPESENSE_HOST` | Hostname of the Typesense server |
| `TYPESENSE_API_KEY` | API key for the Typesense server |
| `TYPESENSE_PORT` | Port number (default: 443) |
| `TYPESENSE_PROTOCOL` | Protocol: `http` or `https` (default: https) |

Configuration in Terraform takes precedence over environment variables.

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `cloud_management_api_key` (String, Sensitive) API key for Typesense Cloud Management API. Can also be set via TYPESENSE_CLOUD_MANAGEMENT_API_KEY environment variable.
- `server_api_key` (String, Sensitive) API key for Typesense Server API. Can also be set via TYPESENSE_API_KEY environment variable.
- `server_host` (String) Hostname of the Typesense server (e.g., 'xxx.a1.typesense.net' or 'localhost'). Can also be set via TYPESENSE_HOST environment variable.
- `server_port` (Number) Port number for the Typesense server. Defaults to 443. Can also be set via TYPESENSE_PORT environment variable.
- `server_protocol` (String) Protocol for connecting to Typesense server ('http' or 'https'). Defaults to 'https'. Can also be set via TYPESENSE_PROTOCOL environment variable.
