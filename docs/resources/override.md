---
page_title: "typesense_override Resource - terraform-provider-typesense"
subcategory: ""
description: |-
  Manages a Typesense override/curation rule for customizing search results.
---

# typesense_override (Resource)

Manages a Typesense override (also known as curation) rule for a collection. Overrides allow you to customize search results by:

- **Pinning** specific documents to appear at certain positions
- **Hiding** specific documents from results
- **Filtering** or **sorting** results differently for specific queries
- **Replacing** the query with a different one

## Example Usage

### Pin and Hide Documents

```terraform
resource "typesense_override" "featured_iphone" {
  collection = typesense_collection.products.name
  name       = "featured-iphone"

  rule {
    query = "iphone"
    match = "exact"
  }

  # Pin featured products to the top
  includes {
    id       = "product-123"
    position = 1
  }

  includes {
    id       = "product-456"
    position = 2
  }

  # Hide discontinued products
  excludes {
    id = "product-old-model"
  }
}
```

### Query Replacement

```terraform
resource "typesense_override" "redirect_query" {
  collection = typesense_collection.products.name
  name       = "redirect-typo"

  rule {
    query = "iphne"  # Common typo
    match = "exact"
  }

  replace_query = "iphone"
}
```

### Filter Override

```terraform
resource "typesense_override" "sale_items" {
  collection = typesense_collection.products.name
  name       = "sale-filter"

  rule {
    query = "sale"
    match = "contains"
  }

  filter_by            = "on_sale:true"
  sort_by              = "discount:desc"
  remove_matched_tokens = true
}
```

### Time-Limited Override

```terraform
resource "typesense_override" "holiday_promotion" {
  collection = typesense_collection.products.name
  name       = "holiday-promo"

  rule {
    query = "gifts"
    match = "contains"
  }

  includes {
    id       = "holiday-bundle-1"
    position = 1
  }

  # Only active during promotion period
  effective_from_ts = 1703980800  # Dec 31, 2023
  effective_to_ts   = 1704585600  # Jan 7, 2024
}
```

### Tag-Based Override

```terraform
resource "typesense_override" "premium_results" {
  collection = typesense_collection.products.name
  name       = "premium-user-results"

  rule {
    tags = ["premium_user"]
  }

  filter_by = "premium_only:=false || premium_only:=true"
}
```

## Import

Overrides can be imported using the format `collection/override_name`:

```shell
terraform import typesense_override.featured_iphone products/featured-iphone
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `collection` (String) The name of the collection this override belongs to.
- `name` (String) The name/ID of the override rule.
- `rule` (Block, Required) The rule that triggers this override. (see [below for nested schema](#nestedblock--rule))

### Optional

- `effective_from_ts` (Number) Unix timestamp from when this override is effective.
- `effective_to_ts` (Number) Unix timestamp until when this override is effective.
- `excludes` (Block List) Documents to exclude from results. (see [below for nested schema](#nestedblock--excludes))
- `filter_by` (String) Filter expression to apply.
- `filter_curated_hits` (Boolean) Apply filters to curated hits as well. Defaults to `false`.
- `includes` (Block List) Documents to include/pin in results. (see [below for nested schema](#nestedblock--includes))
- `remove_matched_tokens` (Boolean) Remove matched tokens from the query. Defaults to `false`.
- `replace_query` (String) Query to replace the original query with.
- `sort_by` (String) Sort expression to apply.
- `stop_processing` (Boolean) Stop processing further overrides if this one matches. Defaults to `false`.

### Read-Only

- `id` (String) Unique identifier (collection/name).

<a id="nestedblock--rule"></a>
### Nested Schema for `rule`

Optional:

- `match` (String) Match type: 'exact' or 'contains'.
- `query` (String) The query pattern to match.
- `tags` (List of String) Tags to match for triggering the override.

<a id="nestedblock--includes"></a>
### Nested Schema for `includes`

Required:

- `id` (String) Document ID to include.
- `position` (Number) Position to pin the document at (1-indexed).

<a id="nestedblock--excludes"></a>
### Nested Schema for `excludes`

Required:

- `id` (String) Document ID to exclude.
