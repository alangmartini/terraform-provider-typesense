---
page_title: "typesense_api_key Resource - terraform-provider-typesense"
subcategory: ""
description: |-
  Manages a Typesense API key with granular permissions.
---

# typesense_api_key (Resource)

Manages a Typesense API key. API keys provide authentication and authorization for accessing Typesense. You can create keys with specific permissions (actions) scoped to specific collections.

~> **Important:** API key values are only available at creation time. The key value is stored in the Terraform state, so ensure your state is properly secured.

~> **Note:** API keys cannot be updated after creation. Any changes will require the key to be deleted and recreated.

## Example Usage

### Search-Only Key for Frontend

```terraform
resource "typesense_api_key" "search_only" {
  description = "Frontend search-only key"
  actions     = ["documents:search"]
  collections = [typesense_collection.products.name]
}

output "search_api_key" {
  value     = typesense_api_key.search_only.value
  sensitive = true
}
```

### Read-Only Key for Analytics

```terraform
resource "typesense_api_key" "analytics" {
  description = "Analytics read-only key"
  actions     = ["documents:search", "documents:get", "collections:get"]
  collections = ["*"]  # All collections
}
```

### Indexing Key for Backend

```terraform
resource "typesense_api_key" "indexer" {
  description = "Backend indexing service"
  actions = [
    "documents:create",
    "documents:upsert",
    "documents:update",
    "documents:delete",
    "documents:import"
  ]
  collections = [
    typesense_collection.products.name,
    typesense_collection.orders.name
  ]
}
```

### Admin Key for a Collection

```terraform
resource "typesense_api_key" "products_admin" {
  description = "Admin key for products collection"
  actions     = ["*"]
  collections = [typesense_collection.products.name]
}
```

### Expiring Key

```terraform
resource "typesense_api_key" "temporary" {
  description = "Temporary access key"
  actions     = ["documents:search"]
  collections = ["*"]
  expires_at  = 1735689600  # Unix timestamp for expiration
}
```

### Search Configuration Key

```terraform
resource "typesense_api_key" "search_config" {
  description = "Key for managing search configuration"
  actions = [
    "synonyms:*",
    "overrides:*",
    "stopwords:*"
  ]
  collections = ["*"]
}
```

## Available Actions

| Action | Description |
|--------|-------------|
| `*` | Full access to all operations |
| `documents:search` | Search documents |
| `documents:get` | Retrieve a specific document |
| `documents:create` | Create new documents |
| `documents:upsert` | Create or update documents |
| `documents:update` | Update existing documents |
| `documents:delete` | Delete documents |
| `documents:import` | Bulk import documents |
| `documents:export` | Export documents |
| `collections:get` | Get collection info |
| `collections:list` | List all collections |
| `collections:create` | Create collections |
| `collections:delete` | Delete collections |
| `synonyms:*` | All synonym operations |
| `overrides:*` | All override operations |
| `stopwords:*` | All stopwords operations |

## Import

API keys can be imported using the key ID:

```shell
terraform import typesense_api_key.search_only 1
```

Note: When importing, the key value will not be available as Typesense does not return it on read operations.

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `actions` (List of String) List of actions this key can perform (e.g., 'documents:search', 'documents:get', 'collections:create', '*').
- `collections` (List of String) List of collections this key has access to. Use '*' for all collections.

### Optional

- `description` (String) A description for the API key.
- `expires_at` (Number) Unix timestamp when this key expires. 0 means never expires.

### Read-Only

- `id` (String) Unique identifier for the API key.
- `value` (String, Sensitive) The API key value. Only available on creation.
